/*
================================================================================
FOCUS & NAVIGATION
================================================================================
Complete focus management for interactive prototypes.
================================================================================
*/

/*
================================================================================
MODERN FOCUS VISIBLE
================================================================================
*/

/* Focus-visible only implementation
   WHEN: Any interactive element that needs focus styling
   WHY: Shows focus only when keyboard navigating, not mouse clicks
   HOW: <button className="focus-visible-only">Submit</button> */
.focus-visible-only:focus:not(:focus-visible) {
  outline: none;
}

.focus-visible-only:focus-visible {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/*
================================================================================
SKIP NAVIGATION
================================================================================
*/

/* Skip to main content link
   WHEN: First interactive element on every page
   WHY: Allows keyboard users to bypass navigation
   HOW: <a className="skip-link" href="#main">Skip to content</a> */
.skip-link {
  position: absolute;
  top: calc(-1 * var(--space-xl));
  left: var(--space-xs);
  background: var(--surface-page);
  color: var(--text-primary);
  padding: var(--space-xs) var(--space-sm);
  text-decoration: none;
  border-radius: var(--border-radius-md);
  border: 2px solid var(--interactive-primary);
  z-index: var(--z-index-high);
  font-weight: var(--font-weight-emphasis);
  transition: var(--transition-fast);
}

.skip-link:focus {
  top: var(--space-xs);
}

/*
================================================================================
MODAL & DIALOG FOCUS MANAGEMENT
================================================================================
*/

/* Inert content - disables interaction
   WHEN: Modal/dialog opens and background content should be disabled
   WHY: Prevents focus escaping modal, required by WCAG
   HOW: <main className={isModalOpen ? 'inert' : ''}>...</main> */
.inert {
  pointer-events: none !important;
  user-select: none !important;
}

.inert * {
  pointer-events: none !important;
  user-select: none !important;
}

/* Focus trap indicator
   WHEN: Modal or dialog is active
   WHY: Creates stacking context for focus containment
   HOW: <dialog className="focus-trap-active">...</dialog> */
.focus-trap-active {
  isolation: isolate;
}

/*
================================================================================
INTERACTION CONTROL
================================================================================
*/

/* Pointer event control
   WHEN: Need to disable/enable pointer interactions temporarily
   WHY: Loading states, disabled overlays, interactive element control
   HOW: <div className="pointer-none">Loading...</div> */
.pointer-none {
  pointer-events: none;
}

.pointer-auto {
  pointer-events: auto;
}

/* Text selection control
   WHEN: UI elements that shouldn't be selectable (buttons, icons)
   WHY: Better user experience, prevents accidental text selection
   HOW: <button className="no-select">Click me</button> */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

.select-auto {
  user-select: auto;
  -webkit-user-select: auto;
}

/* Complete interaction disable
   WHEN: Form submitting, loading states, temporarily disabled content
   WHY: Clear visual feedback that element is not interactive
   HOW: <button className="disabled">Submitting...</button> */
.disabled {
  pointer-events: none;
  user-select: none;
  -webkit-user-select: none;
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
}

/*
================================================================================
USER PREFERENCE OVERRIDES
================================================================================
*/

/* High contrast enhancements */
@media (prefers-contrast: high) {
  .skip-link {
    border-width: 3px;
    font-weight: var(--font-weight-display);
  }

  .focus-visible-only:focus-visible {
    outline-width: 3px;
  }

  .disabled {
    opacity: 0.4;
    border: 2px dashed var(--border-disabled);
  }
}

/* Reduced motion safety */
@media (prefers-reduced-motion: reduce) {
  .disabled {
    transition: none;
  }

  .pointer-auto:hover,
  .select-auto:hover {
    transition: none;
  }
}

/* Print optimization */
@media print {
  .skip-link {
    display: none;
  }
}
