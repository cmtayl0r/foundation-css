/*
================================================================================
COLOR SEMANTICS - LEAN HIGH CONTRAST
================================================================================
Accessibility-first semantic color system.
Maximum contrast ratios for WCAG AAA compliance.
Essential semantics only - stripped to core needs.
*/

/*
================================================================================
LIGHT MODE (DEFAULT)
================================================================================
*/

:root {
  /* ===== TEXT - MAXIMUM CONTRAST ===== */
  --text-primary: var(--color-neutral-darkest);
  /* 20:1 ratio */
  --text-secondary: var(--color-neutral-dark);
  /* 8:1 ratio */
  --text-inverse: var(--color-white);
  /* For dark backgrounds */
  --text-link: var(--color-primary-dark);
  /* High contrast links */
  --text-error: var(--color-error-dark);
  /* Error messaging */
  --text-success: var(--color-success-dark);
  /* Success messaging */

  /* ===== ESSENTIAL SURFACES ===== */
  --surface-page: var(--color-white);
  /* Page background */
  --surface-card: var(--color-neutral-lightest);
  /* Content cards */
  --surface-input: var(--color-white);
  /* Form inputs */
  --surface-overlay: var(--color-white);
  /* Modals, dropdowns */

  /* ===== ESSENTIAL BORDERS ===== */
  --border-default: var(--color-neutral-dark);
  /* Strong borders */
  --border-focus: var(--color-primary-default);
  /* Focus indicators */
  --border-error: var(--color-error-default);
  /* Error states */
  --border-success: var(--color-success-default);
  /* Success states */

  /* ===== INTERACTIVE STATES ===== */
  --interactive-primary: var(--color-primary-default);
  --interactive-primary-hover: var(--color-primary-dark);
  --interactive-primary-active: var(--color-primary-darkest);

  --interactive-secondary: var(--color-secondary-default);
  --interactive-secondary-hover: var(--color-secondary-dark);
  --interactive-secondary-active: var(--color-secondary-darkest);

  --interactive-destructive: var(--color-error-default);
  --interactive-destructive-hover: var(--color-error-dark);
  --interactive-destructive-active: var(--color-error-darkest);

  /* ===== STATUS COLORS ===== */
  --status-error: var(--color-error-default);
  --status-success: var(--color-success-default);
  --surface-error: var(--color-error-lightest);
  --surface-success: var(--color-success-lightest);

  /* ===== BACKDROP ===== */
  --surface-backdrop: rgba(0, 0, 0, 0.8);
  /* Strong backdrop */

  /* ===== FOCUS SYSTEM ===== */
  /* Explicit focus color - no circular dependencies */
  --focus-ring-color: var(--color-primary-500);
}

/*
================================================================================
DARK MODE - HIGH CONTRAST
================================================================================
*/

@media (prefers-color-scheme: dark) {
  :root {
    /* ===== TEXT - MAXIMUM CONTRAST ===== */
    --text-primary: var(--color-white);
    /* Pure white for max contrast */
    --text-secondary: var(--color-neutral-light);
    /* Light gray */
    --text-inverse: var(--color-neutral-darkest);
    /* For light backgrounds */
    --text-link: var(--color-primary-light);
    /* Lighter for dark bg */
    --text-error: var(--color-error-light);
    /* Lighter error */
    --text-success: var(--color-success-light);
    /* Lighter success */

    /* ===== ESSENTIAL SURFACES ===== */
    --surface-page: var(--color-neutral-darkest);
    /* Dark page background */
    --surface-card: var(--color-neutral-dark);
    /* Elevated cards */
    --surface-input: var(--color-neutral-dark);
    /* Form inputs */
    --surface-overlay: var(--color-neutral-dark);
    /* Modals, dropdowns */

    /* ===== ESSENTIAL BORDERS ===== */
    --border-default: var(--color-neutral-light);
    /* Light borders on dark */
    --border-focus: var(--color-primary-light);
    /* Bright focus */
    --border-error: var(--color-error-light);
    /* Bright error */
    --border-success: var(--color-success-light);
    /* Bright success */

    /* ===== INTERACTIVE STATES ===== */
    --interactive-primary: var(--color-primary-light);
    --interactive-primary-hover: var(--color-primary-lightest);
    --interactive-primary-active: var(--color-primary-default);

    --interactive-secondary: var(--color-secondary-light);
    --interactive-secondary-hover: var(--color-secondary-lightest);
    --interactive-secondary-active: var(--color-secondary-default);

    --interactive-destructive: var(--color-error-light);
    --interactive-destructive-hover: var(--color-error-lightest);
    --interactive-destructive-active: var(--color-error-default);

    /* ===== STATUS COLORS ===== */
    --status-error: var(--color-error-light);
    --status-success: var(--color-success-light);
    --surface-error: var(--color-error-darkest);
    --surface-success: var(--color-success-darkest);

    /* ===== BACKDROP ===== */
    --surface-backdrop: rgba(0, 0, 0, 0.9);
    /* Stronger backdrop */
  }
}

/*
================================================================================
FORCED HIGH CONTRAST - MAXIMUM ACCESSIBILITY
================================================================================
*/

@media (prefers-contrast: high) {
  :root {
    /* ===== ULTRA HIGH CONTRAST ===== */
    --text-primary: var(--color-black);
    /* Pure black */
    --border-default: var(--color-black);
    /* Pure black borders */
    --border-focus: var(--color-primary-darkest);
    /* Darkest focus */

    /* ===== ULTRA CONTRAST INTERACTIVE ===== */
    --interactive-primary: var(--color-primary-darkest);
    --interactive-secondary: var(--color-secondary-darkest);
    --interactive-destructive: var(--color-error-darkest);
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --text-primary: var(--color-white);
      /* Pure white */
      --border-default: var(--color-white);
      /* Pure white borders */
      --border-focus: var(--color-primary-lightest);
      /* Brightest focus */
    }
  }
}

/*
================================================================================
BROWSER COMPATIBILITY FALLBACKS
================================================================================
*/

@supports not (color: oklch(0% 0 0)) {
  :root {
    /* High contrast hex fallbacks */
    --text-primary: #000000;
    --text-secondary: #1e293b;
    --text-link: #1e3a8a;
    --surface-page: #ffffff;
    --surface-card: #f8fafc;
    --border-default: #1e293b;
    --interactive-primary: #1e40af;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --text-primary: #ffffff;
      --text-secondary: #e2e8f0;
      --text-link: #64748b;
      --surface-page: #0f172a;
      --surface-card: #1e293b;
      --border-default: #e2e8f0;
      --interactive-primary: #64748b;
    }
  }
}
