/*
================================================================================
THE FRAME - Responsive media container with aspect ratio control
================================================================================
Container that maintains specific aspect ratios for images, videos, and other media.
Perfect for: hero images, thumbnails, media galleries, card images, video embeds.
Accessible: Provides proper media containment and responsive behavior.
*/

.frame {
  /* Default 16:9 aspect ratio - most common for modern displays */
  --frame-ratio-width: 16;
  --frame-ratio-height: 9;

  /* Core frame properties */
  aspect-ratio: var(--frame-ratio-width) / var(--frame-ratio-height);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;

  /* Ensure proper sizing context */
  position: relative;
  width: 100%;
}

/* Media elements within frame get proper sizing and cropping */
.frame>img,
.frame>video,
.frame>iframe {
  /* Use logical properties for better internationalization */
  inline-size: 100%;
  block-size: 100%;

  /* Cover ensures media fills frame while maintaining aspect ratio */
  object-fit: cover;

  /* Remove any inherited styling */
  display: block;
  max-width: none;
  max-height: none;
}

/* Special handling for iframe content (embeds, maps, etc.) */
.frame>iframe {
  border: none;
}

/*
================================================================================
ASPECT RATIO VARIANTS
================================================================================
*/

/* Square format - perfect for avatars, logos, thumbnails */
.frame--square {
  --frame-ratio-width: 1;
  --frame-ratio-height: 1;
}

/* Classic photography ratios */
.frame--4-3 {
  --frame-ratio-width: 4;
  --frame-ratio-height: 3;
}

.frame--3-2 {
  --frame-ratio-width: 3;
  --frame-ratio-height: 2;
}

/* Portrait orientations */
.frame--3-4 {
  --frame-ratio-width: 3;
  --frame-ratio-height: 4;
}

.frame--9-16 {
  --frame-ratio-width: 9;
  --frame-ratio-height: 16;
}

/* Ultra-wide formats */
.frame--21-9 {
  --frame-ratio-width: 21;
  --frame-ratio-height: 9;
}

/* Golden ratio - naturally pleasing proportions */
.frame--golden {
  --frame-ratio-width: 1.618;
  --frame-ratio-height: 1;
}

/*
================================================================================
OBJECT-FIT VARIANTS
================================================================================
*/

/* Alternative to cover - shows entire media, may add letterboxing */
.frame--contain>img,
.frame--contain>video {
  object-fit: contain;
}

/* Stretch media to fill frame - may distort aspect ratio */
.frame--fill>img,
.frame--fill>video {
  object-fit: fill;
}

/* Use original media size, may crop or add empty space */
.frame--none>img,
.frame--none>video {
  object-fit: none;
}

/* Scale down like contain, but never scale up */
.frame--scale-down>img,
.frame--scale-down>video {
  object-fit: scale-down;
}

/*
================================================================================
ACCESSIBILITY ENHANCEMENTS
================================================================================
*/

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .frame>video {
    /* Pause autoplay videos for motion-sensitive users */
    animation-play-state: paused;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .frame {
    /* Ensure frame boundaries are visible in high contrast */
    outline: 1px solid;
  }
}

/*
================================================================================
RESPONSIVE BEHAVIOR
================================================================================
*/

/* Small screens - optimize for mobile viewing */
@media (max-width: 768px) {

  /* Square frames become slightly taller on mobile for better readability */
  .frame--square {
    --frame-ratio-width: 4;
    --frame-ratio-height: 5;
  }

  /* Ultra-wide becomes more standard ratio on small screens */
  .frame--21-9 {
    --frame-ratio-width: 16;
    --frame-ratio-height: 9;
  }
}

/*
================================================================================
LOADING STATE STYLING
================================================================================
*/

/* Placeholder styling while media loads */
.frame[aria-busy="true"]::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--color-neutral-100, #f5f5f5);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Loading spinner or placeholder content */
.frame[aria-busy="true"]::after {
  content: "Loading...";
  color: var(--color-neutral-600, #666);
  font-size: 0.875rem;
  position: absolute;
}
